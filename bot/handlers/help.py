from aiogram import Router, F
from aiogram.types import Message
from bot.keyboards.main_menu import get_main_menu
from data.user_data import UserDataManager

router = Router()
user_data = UserDataManager()


@router.message(F.text == "‚ùì –ü–æ–º–æ—â—å")
async def help_menu(message: Message):
    """–ú–µ–Ω—é –ø–æ–º–æ—â–∏"""
    help_text = (
        "‚ùì –ü–æ–º–æ—â—å\n\n"
        "üìã –ö–∞–∫ –Ω–∞—á–∞—Ç—å:\n"
        "1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ API BingX –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö\n"
        "2. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º —Ç–æ—Ä–≥–æ–≤–ª–∏ (–¥–µ–º–æ/—Ä–µ–∞–ª—å–Ω—ã–π)\n"
        "3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç\n"
        "4. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ-—Ç–æ—Ä–≥–æ–≤–ª—é –∏–ª–∏ —Ç–æ—Ä–≥—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é\n\n"
        "üìä –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞:\n"
        "‚Ä¢ –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ (—Å–≤–µ—á–∏, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, —Å—Ç–∞–∫–∞–Ω)\n"
        "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º\n"
        "‚Ä¢ –†—É—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è —Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º\n"
        "‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã\n"
        "‚Ä¢ –î–µ–º–æ-—Ä–µ–∂–∏–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è\n\n"
        "üîß FAQ:\n"
        "‚Ä¢ –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–º–æ-—Ä–µ–∂–∏–º?\n"
        "  –î–µ–º–æ-—Ä–µ–∂–∏–º –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ –±–µ–∑ —Ä–∏—Å–∫–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤.\n\n"
        "‚Ä¢ –ü–æ—á–µ–º—É –ø–æ–∑–∏—Ü–∏—è –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è?\n"
        "  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∏—Å–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API.\n\n"
        "‚Ä¢ –ö–∞–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è % –æ—Ç –±–∞–ª–∞–Ω—Å–∞?\n"
        "  –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ % —Ä–∏—Å–∫–∞ –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ —Å—Ç–æ–ø-–ª–æ—Å—Å–∞.\n\n"
        "üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞:\n"
        "–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞."
    )
    
    user_id = message.from_user.id
    data = user_data.get_user_data(user_id)
    is_demo = data.get('is_demo_mode', True)
    
    await message.answer(
        help_text,
        reply_markup=get_main_menu(is_demo)
    )
